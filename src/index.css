@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== Theme CSS Variables ===== */
:root {
  --color-void: 10 10 15;
  --color-surface: 15 23 42;
  --color-surface-light: 30 41 59;
}

.light-theme {
  --color-void: 241 245 249;
  --color-surface: 255 255 255;
  --color-surface-light: 248 250 252;
}

@layer base {
  body {
    @apply bg-void text-slate-100 font-thai antialiased;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

@layer components {
  .glass {
    background: rgba(15, 23, 42, 0.8);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid rgba(71, 85, 105, 0.4);
  }

  .glass-light {
    background: rgba(30, 41, 59, 0.6);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: 1px solid rgba(71, 85, 105, 0.3);
  }

  .gradient-text {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-emerald-400 to-amber-400;
  }
}

/* ===== Light Theme Overrides ===== */
/* WCAG: 4.5:1 min for normal text, 3:1 for large text/icons */

/* --- Body & Base Text --- */
.light-theme { color: #0f172a; }
.light-theme .text-slate-100 { color: #1e293b; }
.light-theme .text-slate-200 { color: #334155; }
.light-theme .text-slate-400 { color: #475569; }

/* --- White Text -> Dark Text (all opacity variants) --- */
.light-theme .text-white { color: #0f172a; }
.light-theme .text-white\/90 { color: rgba(15, 23, 42, 0.9); }
.light-theme .text-white\/80 { color: rgba(15, 23, 42, 0.85); }
.light-theme .text-white\/70 { color: rgba(15, 23, 42, 0.75); }
.light-theme .text-white\/60 { color: #475569; }
.light-theme .text-white\/50 { color: #64748b; }
.light-theme .text-white\/40 { color: #64748b; }
.light-theme .text-white\/30 { color: #94a3b8; }

/* --- Colored Text: darken -400 to -700 for WCAG on white --- */
/* Emerald: #34d399 (1.6:1) -> #047857 (5.1:1) */
.light-theme .text-emerald-400 { color: #047857; }
.light-theme .text-emerald-300 { color: #059669; }
/* Blue: #60a5fa (2.5:1) -> #1d4ed8 (6.5:1) */
.light-theme .text-blue-400 { color: #1d4ed8; }
.light-theme .text-blue-300 { color: #2563eb; }
/* Green: #4ade80 (1.7:1) -> #15803d (5.3:1) */
.light-theme .text-green-400 { color: #15803d; }
.light-theme .text-green-300 { color: #16a34a; }
/* Red: #f87171 (2.6:1) -> #b91c1c (5.5:1) */
.light-theme .text-red-400 { color: #b91c1c; }
.light-theme .text-red-300 { color: #dc2626; }
/* Yellow: #facc15 (1.2:1) -> #a16207 (4.7:1) */
.light-theme .text-yellow-400 { color: #a16207; }
.light-theme .text-yellow-300 { color: #ca8a04; }
/* Orange: #fb923c (1.8:1) -> #c2410c (4.8:1) */
.light-theme .text-orange-400 { color: #c2410c; }
/* Gray: #9ca3af (2.7:1) -> #4b5563 (5.9:1) */
.light-theme .text-gray-400 { color: #4b5563; }
.light-theme .text-gray-300 { color: #6b7280; }
/* Purple: #c084fc (2.3:1) -> #7e22ce (5.6:1) */
.light-theme .text-purple-400 { color: #7e22ce; }
.light-theme .text-purple-300 { color: #9333ea; }
/* Pink: #f472b6 (2.2:1) -> #be185d (5.2:1) */
.light-theme .text-pink-400 { color: #be185d; }
.light-theme .text-pink-300 { color: #db2777; }
/* Amber: #fbbf24 (1.6:1) -> #b45309 (5.2:1) */
.light-theme .text-amber-400 { color: #b45309; }
.light-theme .text-amber-300 { color: #d97706; }

/* --- Hover Text Colors --- */
.light-theme .hover\:text-slate-200:hover { color: #1e293b; }
.light-theme .hover\:text-white\/80:hover { color: rgba(15, 23, 42, 0.85); }
.light-theme .hover\:text-red-400:hover { color: #b91c1c; }
.light-theme .hover\:text-emerald-400:hover { color: #047857; }
.light-theme .hover\:text-amber-400:hover { color: #b45309; }

/* --- White Backgrounds -> Light gray fills --- */
.light-theme .bg-white\/5 { background-color: rgba(241, 245, 249, 0.6); }
.light-theme .bg-white\/10 { background-color: rgba(226, 232, 240, 0.5); }
.light-theme .bg-white\/\[0\.02\] { background-color: rgba(241, 245, 249, 0.4); }
.light-theme .hover\:bg-white\/5:hover { background-color: rgba(226, 232, 240, 0.6); }
.light-theme .hover\:bg-white\/10:hover { background-color: rgba(226, 232, 240, 0.7); }

/* --- Slate Backgrounds -> Light equivalents --- */
.light-theme .bg-slate-700 { background-color: #e2e8f0; }
.light-theme .bg-slate-700\/30 { background-color: rgba(226, 232, 240, 0.5); }
.light-theme .bg-slate-700\/50 { background-color: rgba(226, 232, 240, 0.6); }
.light-theme .hover\:bg-slate-700\/30:hover { background-color: rgba(226, 232, 240, 0.7); }

/* --- Colored Backgrounds: boost opacity for visibility on white --- */
.light-theme .bg-emerald-500\/10 { background-color: rgba(16, 185, 129, 0.1); }
.light-theme .bg-emerald-500\/20 { background-color: rgba(16, 185, 129, 0.12); }
.light-theme .hover\:bg-emerald-500\/20:hover { background-color: rgba(16, 185, 129, 0.15); }
.light-theme .hover\:bg-emerald-500\/30:hover { background-color: rgba(16, 185, 129, 0.18); }
.light-theme .hover\:bg-red-500\/20:hover { background-color: rgba(239, 68, 68, 0.12); }
.light-theme .hover\:bg-red-500\/30:hover { background-color: rgba(239, 68, 68, 0.15); }
.light-theme .hover\:bg-emerald-500\/20:hover { background-color: rgba(16, 185, 129, 0.12); }
.light-theme .hover\:bg-emerald-500\/30:hover { background-color: rgba(16, 185, 129, 0.15); }

/* --- Borders --- */
.light-theme .border-white\/10 { border-color: #e2e8f0; }
.light-theme .border-white\/20 { border-color: #cbd5e1; }
.light-theme .border-slate-700\/50 { border-color: #e2e8f0; }
.light-theme .divide-white\/10 > :not([hidden]) ~ :not([hidden]) { border-color: #e2e8f0; }

/* Colored borders: slightly darker for contrast on white */
.light-theme .border-emerald-500\/30 { border-color: rgba(16, 185, 129, 0.3); }
.light-theme .border-emerald-500\/50 { border-color: rgba(16, 185, 129, 0.4); }
.light-theme .border-red-500\/30 { border-color: rgba(239, 68, 68, 0.3); }
.light-theme .border-red-500\/50 { border-color: rgba(239, 68, 68, 0.4); }
.light-theme .border-blue-500\/20 { border-color: rgba(59, 130, 246, 0.25); }
.light-theme .border-blue-500\/30 { border-color: rgba(59, 130, 246, 0.3); }
.light-theme .border-blue-500\/50 { border-color: rgba(59, 130, 246, 0.4); }

/* --- Placeholders --- */
.light-theme .placeholder-white\/40::placeholder { color: #94a3b8; }

/* --- Gradient Text: darken for light bg --- */
.light-theme .gradient-text {
  background-image: linear-gradient(to right, #047857, #d97706);
}

/* --- Glass effects --- */
.light-theme .glass {
  background: rgba(255, 255, 255, 0.85);
  border: 1px solid #e2e8f0;
}
.light-theme .glass-light {
  background: rgba(248, 250, 252, 0.85);
  border: 1px solid #e2e8f0;
}

/* --- Input fields --- */
.light-theme input[type="text"],
.light-theme input[type="password"],
.light-theme input[type="number"],
.light-theme input[type="date"],
.light-theme textarea {
  background-color: rgba(241, 245, 249, 0.8);
  border-color: #cbd5e1;
  color: #0f172a;
}
.light-theme input::placeholder,
.light-theme textarea::placeholder {
  color: #94a3b8;
}

/* --- Scrollbar --- */
.light-theme ::-webkit-scrollbar-thumb { background: rgba(148, 163, 184, 0.4); }
.light-theme ::-webkit-scrollbar-thumb:hover { background: rgba(148, 163, 184, 0.7); }

/* --- Select dropdowns --- */
select { color-scheme: dark; }
select option {
  background-color: #1e293b;
  color: #e2e8f0;
  padding: 8px 12px;
}
select option:checked {
  background-color: #047857;
  color: white;
}
.light-theme select {
  color-scheme: light;
  color: #0f172a;
  background-color: rgba(241, 245, 249, 0.8);
  border-color: #cbd5e1;
}
.light-theme select option {
  background-color: #ffffff;
  color: #0f172a;
}
.light-theme select option:checked {
  background-color: #059669;
  color: white;
}

/* --- Focus ring --- */
:focus-visible {
  outline: 2px solid #34d399;
  outline-offset: 2px;
  border-radius: 4px;
}
.light-theme :focus-visible {
  outline: 2px solid #059669;
}
.light-theme .focus\:ring-emerald-500\/50:focus {
  --tw-ring-color: rgba(16, 185, 129, 0.5);
}

/* --- Ring colors --- */
.light-theme .ring-white\/30 { --tw-ring-color: rgba(203, 213, 225, 0.5); }

/* Custom scrollbar */
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: rgba(71, 85, 105, 0.5); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: rgba(71, 85, 105, 0.8); }

/* Safe area for mobile */
.safe-area-bottom { padding-bottom: env(safe-area-inset-bottom, 0px); }

/* Accessibility: Reduced Motion */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Minimum touch target for mobile */
@media (pointer: coarse) {
  button, [role="button"], a {
    min-height: 44px;
    min-width: 44px;
  }
}

/* Allow text selection in clickable containers */
.select-text {
  user-select: text;
  -webkit-user-select: text;
  cursor: text;
}
